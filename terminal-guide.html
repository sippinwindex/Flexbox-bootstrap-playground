<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive Terminal learning guide with hands-on practice">
    <title>Interactive Terminal Learning Guide</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
<style>
:root {
    /* Unified theme variables that change with dark mode */
    --theme-bg-primary: #ffffff;
    --theme-bg-secondary: #f8f9fa;
    --theme-bg-tertiary: #e9ecef;
    --theme-text-primary: #495057;
    --theme-text-secondary: #6c757d;
    --theme-text-muted: #a0aec0;
    --theme-border-color: #dee2e6;
    --theme-border-focus: #667eea;
    --theme-shadow-sm: 0 2px 8px rgba(0,0,0,0.1);
    --theme-shadow-md: 0 4px 15px rgba(0,0,0,0.15);
    --theme-shadow-lg: 0 8px 25px rgba(0,0,0,0.2);

    /* Consistent gradients across all files */
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --success-gradient: linear-gradient(135deg, #28a745, #20c997);
    --warning-gradient: linear-gradient(135deg, #ffc107, #ff8c00);
    --info-gradient: linear-gradient(135deg, #17a2b8, #20c997);
    --danger-gradient: linear-gradient(135deg, #dc3545, #fd79a8);
    
    /* Terminal colors - keep consistent */
    --terminal-bg: #1e1e1e;
    --terminal-text: #d4d4d4;
    --terminal-green: #4ec9b0;
    --terminal-blue: #569cd6;
    --terminal-red: #f44747;
    --terminal-success: #4caf50;

    /* Animation Variables */
    --transition-fast: 0.15s ease-out;
    --transition-base: 0.3s ease-out;
    --transition-slow: 0.5s ease-out;
}

/* Dark mode overrides - standardized */
body.dark-mode {
    --theme-bg-primary: #1a202c;
    --theme-bg-secondary: #2d3748;
    --theme-bg-tertiary: #4a5568;
    --theme-text-primary: #e2e8f0;
    --theme-text-secondary: #a0aec0;
    --theme-text-muted: #718096;
    --theme-border-color: #4a5568;
    --theme-border-focus: #63b3ed;
    --theme-shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
    --theme-shadow-md: 0 4px 15px rgba(0,0,0,0.4);
    --theme-shadow-lg: 0 8px 25px rgba(0,0,0,0.3);
}

/* Smooth transitions for theme switching */
*,
*::before,
*::after {
    transition: 
        background-color var(--transition-base),
        color var(--transition-base),
        border-color var(--transition-base),
        box-shadow var(--transition-base);
}

body {
    font-family: system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    scroll-behavior: smooth;
    background-color: var(--theme-bg-secondary);
    color: var(--theme-text-primary);
}

.hero-section {
    background: var(--primary-gradient);
    color: white;
    padding: 3rem 0;
}

.guide-nav {
    background: var(--theme-bg-primary);
    border-radius: 12px;
    box-shadow: var(--theme-shadow-sm);
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    border: 1px solid var(--theme-border-color);
}

.guide-nav::-webkit-scrollbar {
    width: 8px;
}

.guide-nav::-webkit-scrollbar-track {
    background: transparent;
}

.guide-nav::-webkit-scrollbar-thumb {
    background: var(--theme-border-color);
    border-radius: 4px;
}

.guide-nav::-webkit-scrollbar-thumb:hover {
    background: var(--theme-text-secondary);
}

.guide-nav .nav-link {
    color: var(--theme-text-primary);
    padding: 0.75rem 1rem;
    border-radius: 8px;
    margin: 3px 0;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
}

.guide-nav .nav-link:hover {
    background: var(--theme-bg-tertiary);
    color: var(--theme-text-primary);
    transform: translateX(5px);
}

.guide-nav .nav-link.active {
    background: var(--primary-gradient);
    color: white;
    transform: translateX(5px);
    box-shadow: var(--theme-shadow-sm);
}

.content-section {
    background: var(--theme-bg-primary);
    border-radius: 12px;
    box-shadow: var(--theme-shadow-sm);
    padding: 2.5rem;
    margin-bottom: 2rem;
    transition: all var(--transition-base);
    border: 1px solid var(--theme-border-color);
    color: var(--theme-text-primary);
}

.content-section:hover {
    box-shadow: var(--theme-shadow-md);
}

/* Enhanced Example Container with Tabs */
.example-container {
    background: var(--theme-bg-secondary);
    border: 1px solid var(--theme-border-color);
    border-radius: 12px;
    margin: 1.5rem 0;
    overflow: hidden;
    position: relative;
}

.example-header {
    background: var(--primary-gradient);
    color: white;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.example-title {
    font-weight: 600;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.example-tabs {
    background: var(--theme-bg-tertiary);
    padding: 0;
    margin: 0;
    display: flex;
    border-bottom: 1px solid var(--theme-border-color);
}

.example-tab {
    background: none;
    border: none;
    padding: 1rem 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--theme-text-primary);
    font-weight: 500;
    transition: all var(--transition-base);
    border-bottom: 3px solid transparent;
}

.example-tab:hover {
    background: var(--theme-bg-primary);
    color: var(--theme-text-primary);
}

.example-tab.active {
    background: var(--theme-bg-primary);
    color: var(--theme-text-primary);
    border-bottom-color: var(--theme-border-focus);
}

.example-content {
    position: relative;
}

.example-pane {
    display: none;
    padding: 1.5rem;
    background: var(--theme-bg-primary);
    color: var(--theme-text-primary);
}

.example-pane.active {
    display: block;
}

.example-output {
    background: var(--theme-bg-primary);
    border: 2px dashed var(--theme-border-color);
    border-radius: 8px;
    padding: 1.5rem;
    min-height: 60px;
    color: var(--theme-text-primary);
}

/* Interactive Terminal Styles */
.interactive-terminal {
    background: var(--terminal-bg);
    border-radius: 8px;
    overflow: hidden;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    box-shadow: var(--theme-shadow-md);
    min-height: 400px;
    border: 1px solid var(--theme-border-color);
}

.terminal-header {
    background: #2d2d30;
    padding: 8px 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #3e3e42;
}

.terminal-dots {
    display: flex;
    gap: 6px;
}

.terminal-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.terminal-dot.red { background: #ff5f56; }
.terminal-dot.yellow { background: #ffbd2e; }
.terminal-dot.green { background: #27ca3f; }

.terminal-title {
    color: var(--terminal-text);
    font-size: 0.9rem;
    font-weight: 500;
}

.terminal-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.terminal-control-btn {
    background: #4a5568;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 12px;
    cursor: pointer;
    transition: background 0.2s;
}

.terminal-control-btn:hover {
    background: #2d3748;
}

.terminal-body {
    background: var(--terminal-bg);
    color: var(--terminal-text);
    padding: 16px;
    min-height: 350px;
    max-height: 350px;
    overflow-y: auto;
    font-size: 14px;
    line-height: 1.4;
}

.terminal-line {
    margin-bottom: 4px;
    display: flex;
    align-items: flex-start;
    flex-wrap: wrap;
}

.terminal-prompt {
    color: var(--terminal-green);
    flex-shrink: 0;
}

.terminal-command {
    color: var(--terminal-text);
    margin-left: 8px;
}

.terminal-output {
    color: var(--terminal-blue);
    margin-left: 0;
    white-space: pre-wrap;
    width: 100%;
}

.terminal-error {
    color: var(--terminal-red);
    margin-left: 0;
    width: 100%;
}

.terminal-success {
    color: var(--terminal-success);
    margin-left: 0;
    width: 100%;
}

.terminal-comment {
    color: #666;
    font-style: italic;
}

.terminal-input-line {
    display: flex;
    align-items: center;
    margin-top: 8px;
}

.terminal-input {
    background: transparent;
    border: none;
    color: var(--terminal-text);
    font-family: inherit;
    font-size: inherit;
    outline: none;
    flex: 1;
    margin-left: 8px;
}

.terminal-cursor {
    animation: blink 1s infinite;
    color: var(--terminal-text);
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

/* Practice Challenge Styles */
.practice-challenge {
    background: var(--theme-bg-secondary);
    border: 1px solid var(--theme-border-color);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0;
    position: relative;
    color: var(--theme-text-primary);
}

.practice-challenge::before {
    content: '🎯';
    position: absolute;
    left: 15px;
    top: 15px;
    font-size: 1.2rem;
}

.practice-challenge h6 {
    margin-left: 2rem;
    color: var(--theme-text-primary);
}

.challenge-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--theme-text-secondary);
}

.status-indicator.completed {
    background: var(--terminal-success);
}

.status-indicator.current {
    background: #ffc107;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.hint-box {
    background: var(--theme-bg-secondary);
    border: 1px solid var(--theme-border-color);
    border-radius: 6px;
    padding: 1rem;
    margin: 1rem 0;
    display: none;
    color: var(--theme-text-primary);
}

.hint-box.show {
    display: block;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.progress-bar-container {
    background: var(--theme-bg-tertiary);
    border-radius: 10px;
    overflow: hidden;
    margin: 1rem 0;
}

.progress-bar {
    height: 8px;
    background: var(--success-gradient);
    width: 0;
    transition: width 0.5s ease;
}

.command-hint {
    background: var(--theme-bg-secondary);
    border-left: 4px solid #4caf50;
    padding: 0.5rem 1rem;
    margin: 0.5rem 0;
    border-radius: 0 4px 4px 0;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9rem;
    color: var(--theme-text-primary);
}

.best-practice {
    background: var(--theme-bg-secondary);
    border-left: 4px solid #28a745;
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 8px 8px 0;
    position: relative;
    color: var(--theme-text-primary);
    border: 1px solid var(--theme-border-color);
}

body.dark-mode .best-practice {
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.15), rgba(32, 201, 151, 0.1));
}

body:not(.dark-mode) .best-practice {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
}

.best-practice::before {
    content: '💡';
    position: absolute;
    left: -2px;
    top: -2px;
    font-size: 1.2rem;
}

.warning-box {
    background: var(--theme-bg-secondary);
    border-left: 4px solid #ffc107;
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 8px 8px 0;
    position: relative;
    color: var(--theme-text-primary);
    border: 1px solid var(--theme-border-color);
}

body.dark-mode .warning-box {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.15), rgba(255, 140, 0, 0.1));
}

body:not(.dark-mode) .warning-box {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
}

.warning-box::before {
    content: '⚠️';
    position: absolute;
    left: -2px;
    top: -2px;
    font-size: 1.2rem;
}

.badge-level {
    font-size: 0.7rem;
    padding: 0.35rem 0.7rem;
    border-radius: 12px;
    background: var(--theme-bg-tertiary);
    color: var(--theme-text-primary);
}

/* Toast notifications */
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1050;
}

.toast-custom {
    background: var(--theme-bg-primary);
    border-radius: 8px;
    box-shadow: var(--theme-shadow-lg);
    padding: 1rem;
    margin-bottom: 0.5rem;
    display: none;
    min-width: 300px;
    color: var(--theme-text-primary);
    border: 1px solid var(--theme-border-color);
}

.toast-custom.show {
    display: block;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Navigation theming */
.navbar {
    background-color: var(--theme-bg-primary) !important;
    border-bottom: 1px solid var(--theme-border-color);
}

.navbar-dark {
    background-color: var(--theme-bg-tertiary) !important;
}

.navbar-dark .navbar-nav .nav-link {
    color: var(--theme-text-secondary);
}

.navbar-dark .navbar-nav .nav-link:hover,
.navbar-dark .navbar-nav .nav-link.active {
    color: var(--theme-text-primary);
}

/* Dropdown theming */
.dropdown-menu {
    background-color: var(--theme-bg-primary);
    border-color: var(--theme-border-color);
    box-shadow: var(--theme-shadow-md);
}

.dropdown-item {
    color: var(--theme-text-primary);
}

.dropdown-item:hover {
    background-color: var(--theme-bg-secondary);
    color: var(--theme-text-primary);
}

/* Form elements theming */
.form-select,
.form-control,
.form-range {
    background-color: var(--theme-bg-primary);
    border-color: var(--theme-border-color);
    color: var(--theme-text-primary);
}

.form-select:focus,
.form-control:focus {
    background-color: var(--theme-bg-primary);
    border-color: var(--theme-border-focus);
    color: var(--theme-text-primary);
    box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
}

/* Alert theming */
.alert {
    border: 1px solid var(--theme-border-color);
}

/* NEW CIRCULAR THEME TOGGLE STYLES */
.theme-toggle-wrapper {
    position: fixed;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    z-index: 1000;
    user-select: none;
}

.theme-toggle {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: 3px solid var(--theme-border-color);
    background: var(--theme-bg-primary);
    color: var(--theme-text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: var(--theme-shadow-md);
    position: relative;
    overflow: hidden;
    font-size: 1.5rem;
}

.theme-toggle::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

.theme-toggle:hover::before {
    left: 100%;
}

.theme-toggle:hover {
    transform: scale(1.1);
    box-shadow: var(--theme-shadow-lg);
    border-color: var(--theme-border-focus);
}

.theme-toggle:active {
    transform: scale(0.95);
}

.theme-toggle .sun-icon {
    color: #f59e0b;
    transition: all 0.3s ease;
}

.theme-toggle .moon-icon {
    color: #3b82f6;
    transition: all 0.3s ease;
}

.theme-selector {
    position: absolute;
    right: 70px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--theme-bg-primary);
    border: 2px solid var(--theme-border-color);
    border-radius: 12px;
    box-shadow: var(--theme-shadow-lg);
    min-width: 200px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-50%) translateX(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1001;
}

.theme-selector.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(-50%) translateX(0);
}

.theme-option {
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--theme-text-primary);
    border-radius: 8px;
    margin: 6px;
}

.theme-option:hover {
    background: var(--theme-bg-secondary);
    transform: translateX(4px);
}

.theme-option.active {
    background: var(--theme-bg-secondary);
    border-left: 3px solid var(--theme-border-focus);
}

.theme-option i {
    font-size: 1.2rem;
    width: 24px;
    text-align: center;
}

.theme-option div {
    flex: 1;
}

/* Responsive adjustments for theme toggle */
@media (max-width: 768px) {
    .theme-toggle-wrapper {
        right: 15px;
        top: auto;
        bottom: 20px;
        transform: none;
    }
    
    .theme-toggle {
        width: 48px;
        height: 48px;
        font-size: 1.3rem;
    }
    
    .theme-selector {
        right: 60px;
        bottom: 0;
        top: auto;
        transform: none;
        min-width: 180px;
    }
    
    .theme-selector.show {
        transform: translateX(0);
    }
}

/* Enhanced scrollbars */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--theme-bg-tertiary);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--theme-border-color), var(--theme-text-secondary));
    border-radius: 4px;
    border: 2px solid var(--theme-bg-tertiary);
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--theme-text-secondary), var(--theme-text-primary));
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .guide-nav {
        position: static;
        max-height: none;
        margin-bottom: 2rem;
    }
    
    .content-section {
        padding: 1.5rem;
    }
    
    .example-tabs {
        flex-direction: column;
    }
    
    .example-tab {
        border-bottom: none;
        border-right: 3px solid transparent;
    }
    
    .example-tab.active {
        border-bottom: none;
        border-right-color: var(--theme-border-focus);
    }
}

/* Print styles */
@media print {
    .theme-toggle-wrapper,
    .toast-container {
        display: none;
    }
    
    .interactive-terminal {
        border-style: solid;
    }
}

/* Smooth scroll behavior */
html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
    
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
</style>
</head>

<body>
    <!-- NEW CIRCULAR THEME TOGGLE - Fixed position on right side -->
    <div class="theme-toggle-wrapper" id="themeToggleWrapper">
        <button class="theme-toggle" id="themeToggle" title="Toggle Theme" aria-label="Toggle between light and dark themes">
            <i class="bi bi-sun-fill sun-icon" id="sunIcon"></i>
            <i class="bi bi-moon-fill moon-icon" id="moonIcon" style="display: none;"></i>
        </button>
        
        <div class="theme-selector" id="themeSelector">
            <div class="theme-option" data-theme="light" data-syntax="default">
                <i class="bi bi-sun-fill" style="color: #f59e0b;"></i>
                <div>
                    <div>Light Theme</div>
                    <small style="opacity: 0.7;">Clean & bright</small>
                </div>
            </div>
            <div class="theme-option active" data-theme="dark" data-syntax="dark">
                <i class="bi bi-moon-fill" style="color: #3b82f6;"></i>
                <div>
                    <div>Dark Theme</div>
                    <small style="opacity: 0.7;">Easy on eyes</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" onclick="showToast('Welcome to Interactive Terminal Learning!', 'info')">
                <i class="bi bi-terminal me-2"></i>Interactive Terminal Learning
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="#getting-started">
                        <i class="bi bi-play-circle me-1"></i>Get Started
                    </a>
                    <a class="nav-link" href="#navigation-commands">
                        <i class="bi bi-compass me-1"></i>Navigation
                    </a>
                    <a class="nav-link" href="#file-operations">
                        <i class="bi bi-file-earmark me-1"></i>File Operations
                    </a>
                    <a class="nav-link" href="#text-processing">
                        <i class="bi bi-file-text me-1"></i>Text Processing
                    </a>
                    <a class="nav-link" href="#practice-terminal">
                        <i class="bi bi-terminal me-1"></i>Practice
                    </a>
                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-grid-3x3-gap me-1"></i>More
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick="showToast('Advanced commands coming soon!', 'info')">
                                <i class="bi bi-gear me-2"></i>Advanced Commands
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="showToast('SSH guide coming soon!', 'info')">
                                <i class="bi bi-key me-2"></i>SSH & Remote Access
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="showToast('Scripting guide coming soon!', 'info')">
                                <i class="bi bi-code-slash me-2"></i>Shell Scripting
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="showAbout()">
                                <i class="bi bi-info-circle me-2"></i>About
                            </a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold mb-3">
                        <i class="bi bi-terminal me-3"></i>Interactive Terminal Mastery
                    </h1>
                    <p class="lead mb-4">Learn terminal commands by actually typing them! Practice with real interactive examples and get instant feedback on your commands.</p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="#getting-started" class="btn btn-light btn-lg">
                            <i class="bi bi-play me-2"></i>Start Learning
                        </a>
                        <a href="#practice-terminal" class="btn btn-outline-light btn-lg">
                            <i class="bi bi-terminal me-2"></i>Practice Now
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div class="interactive-terminal">
                        <div class="terminal-header">
                            <div class="terminal-dots">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                            </div>
                            <div class="terminal-title">Interactive Terminal</div>
                            <div class="terminal-controls">
                                <button class="terminal-control-btn" onclick="clearHeroTerminal()">Clear</button>
                            </div>
                        </div>
                        <div class="terminal-body" id="hero-terminal">
                            <div class="terminal-line">
                                <span class="terminal-comment"># Try typing: pwd</span>
                            </div>
                            <div class="terminal-input-line">
                                <span class="terminal-prompt">student@learning:~$</span>
                                <input type="text" class="terminal-input" id="hero-input" 
                                       placeholder="Type a command..." onkeypress="handleHeroCommand(event)">
                                <span class="terminal-cursor">_</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Navigation Sidebar -->
            <div class="col-lg-3">
                <div class="guide-nav p-3">
                    <h6 class="text-muted small text-uppercase mb-3 fw-bold">
                        <i class="bi bi-list me-2"></i>Learning Path
                    </h6>
                    <nav class="nav flex-column" id="guide-navigation">
                        <a class="nav-link active" href="#getting-started">
                            <i class="bi bi-play-circle me-2"></i>Getting Started
                        </a>
                        <a class="nav-link" href="#navigation-commands">
                            <i class="bi bi-compass me-2"></i>Navigation Commands
                        </a>
                        <a class="nav-link" href="#file-operations">
                            <i class="bi bi-file-earmark me-2"></i>File Operations
                        </a>
                        <a class="nav-link" href="#text-processing">
                            <i class="bi bi-file-text me-2"></i>Text Processing
                        </a>
                        <a class="nav-link" href="#practice-terminal">
                            <i class="bi bi-terminal me-2"></i>Practice Terminal
                        </a>
                    </nav>
                    
                    <!-- Progress Tracker -->
                    <div class="mt-4 p-3 rounded" style="background: var(--theme-bg-secondary); border: 1px solid var(--theme-border-color);">
                        <h6 class="small fw-bold mb-2">
                            <i class="bi bi-trophy me-1"></i>Your Progress
                        </h6>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="overall-progress"></div>
                        </div>
                        <div class="small text-muted mt-1">
                            <span id="progress-text">0% Complete</span>
                        </div>
                        <div class="mt-2">
                            <div class="d-flex align-items-center mb-1">
                                <div class="status-indicator" id="nav-status"></div>
                                <span class="small ms-2">Navigation</span>
                            </div>
                            <div class="d-flex align-items-center mb-1">
                                <div class="status-indicator" id="file-status"></div>
                                <span class="small ms-2">File Operations</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <div class="status-indicator" id="text-status"></div>
                                <span class="small ms-2">Text Processing</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <!-- Getting Started -->
                <section id="getting-started" class="content-section">
                    <div class="d-flex align-items-center mb-4">
                        <h2 class="mb-0">Getting Started with Interactive Terminal</h2>
                        <span class="badge bg-success ms-3 badge-level">Beginner</span>
                    </div>
                    
                    <p class="lead">Welcome to the interactive terminal learning experience! You'll learn by doing - type real commands and see immediate results.</p>

                    <div class="best-practice">
                        <h6><i class="bi bi-lightbulb text-success me-2"></i>How This Works</h6>
                        <ul class="mb-0">
                            <li><strong>Interactive Tabs:</strong> Each example has a "Try It" tab where you can type commands</li>
                            <li><strong>Real Feedback:</strong> Get instant validation and results for your commands</li>
                            <li><strong>Guided Learning:</strong> Follow step-by-step challenges with hints</li>
                            <li><strong>Progress Tracking:</strong> Watch your skills grow as you complete sections</li>
                        </ul>
                    </div>

                    <h4>Understanding the Terminal Prompt</h4>
                    <div class="example-container">
                        <div class="example-header">
                            <h6 class="example-title">
                                <i class="bi bi-terminal"></i>
                                Terminal Prompt Basics
                            </h6>
                        </div>
                        <div class="example-tabs">
                            <button class="example-tab active" onclick="switchExampleTab(this, 'demo')">
                                <i class="bi bi-display"></i>Demo
                            </button>
                            <button class="example-tab" onclick="switchExampleTab(this, 'practice')">
                                <i class="bi bi-keyboard"></i>Try It
                            </button>
                            <button class="example-tab" onclick="switchExampleTab(this, 'explanation')">
                                <i class="bi bi-info-circle"></i>Explanation
                            </button>
                        </div>
                        <div class="example-content">
                            <div class="example-pane active" data-tab="demo">
                                <div class="interactive-terminal">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="terminal-dot red"></div>
                                            <div class="terminal-dot yellow"></div>
                                            <div class="terminal-dot green"></div>
                                        </div>
                                        <div class="terminal-title">Demo Terminal</div>
                                        <div></div>
                                    </div>
                                    <div class="terminal-body">
                                        <div class="terminal-line">
                                            <span class="terminal-comment"># This is what you see when you open terminal</span>
                                        </div>
                                        <div class="terminal-line">
                                            <span class="terminal-prompt">student@learning</span><span style="color: #fff;">:</span><span style="color: var(--terminal-blue);">~</span><span style="color: #fff;">$</span>
                                            <span class="terminal-command">echo "Hello Terminal!"</span>
                                        </div>
                                        <div class="terminal-line">
                                            <span class="terminal-output">Hello Terminal!</span>
                                        </div>
                                        <div class="terminal-line">
                                            <span class="terminal-prompt">student@learning</span><span style="color: #fff;">:</span><span style="color: var(--terminal-blue);">~</span><span style="color: #fff;">$</span>
                                            <span class="terminal-cursor">_</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="example-pane" data-tab="practice">
                                <div class="practice-challenge">
                                    <h6>🎯 Challenge: Try your first command!</h6>
                                    <p>Type <code>echo "Hello World!"</code> in the terminal below and press Enter.</p>
                                    <div class="command-hint">
                                        <strong>Hint:</strong> The echo command prints text to the terminal
                                    </div>
                                </div>
                                <div class="interactive-terminal">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="terminal-dot red"></div>
                                            <div class="terminal-dot yellow"></div>
                                            <div class="terminal-dot green"></div>
                                        </div>
                                        <div class="terminal-title">Practice Terminal</div>
                                        <div class="terminal-controls">
                                            <button class="terminal-control-btn" onclick="clearTerminal('practice-1')">Clear</button>
                                            <button class="terminal-control-btn" onclick="showHint('hint-1')">Hint</button>
                                        </div>
                                    </div>
                                    <div class="terminal-body" id="practice-1">
                                        <div class="terminal-line">
                                            <span class="terminal-comment"># Try: echo "Hello World!"</span>
                                        </div>
                                        <div class="terminal-input-line">
                                            <span class="terminal-prompt">student@learning:~$</span>
                                            <input type="text" class="terminal-input" 
                                                   onkeypress="handleCommand(event, 'practice-1', 'getting-started-1')"
                                                   placeholder="Type your command here...">
                                            <span class="terminal-cursor">_</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="hint-box" id="hint-1">
                                    <strong>💡 Hint:</strong> Type exactly: <code>echo "Hello World!"</code> and press Enter
                                </div>
                                <div class="challenge-status" id="challenge-getting-started-1">
                                    <div class="status-indicator current"></div>
                                    <span>Challenge: Use echo command</span>
                                </div>
                            </div>
                            <div class="example-pane" data-tab="explanation">
                                <div class="example-output">
                                    <h6>Prompt Breakdown:</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="p-3 rounded mb-3" style="background: var(--theme-bg-secondary);">
                                                <h6><span class="badge bg-primary">student</span> Username</h6>
                                                <p class="mb-0">The currently logged-in user</p>
                                            </div>
                                            <div class="p-3 rounded mb-3" style="background: var(--theme-bg-secondary);">
                                                <h6><span class="badge bg-info">learning</span> Hostname</h6>
                                                <p class="mb-0">The name of your computer/server</p>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="p-3 rounded mb-3" style="background: var(--theme-bg-secondary);">
                                                <h6><span class="badge bg-warning">~</span> Current Directory</h6>
                                                <p class="mb-0">~ represents your home directory</p>
                                            </div>
                                            <div class="p-3 rounded mb-3" style="background: var(--theme-bg-secondary);">
                                                <h6><span class="badge bg-success">$</span> Prompt Symbol</h6>
                                                <p class="mb-0">$ = regular user, # = root user</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Practice Terminal -->
                <section id="practice-terminal" class="content-section">
                    <div class="d-flex align-items-center mb-4">
                        <h2 class="mb-0">Free Practice Terminal</h2>
                        <span class="badge bg-success ms-3 badge-level">All Levels</span>
                    </div>
                    
                    <p class="lead">Practice any commands you've learned! This is your free-form terminal to experiment with.</p>

                    <div class="interactive-terminal" style="min-height: 500px;">
                        <div class="terminal-header">
                            <div class="terminal-dots">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                            </div>
                            <div class="terminal-title">Free Practice Terminal</div>
                            <div class="terminal-controls">
                                <button class="terminal-control-btn" onclick="clearTerminal('free-practice')">Clear</button>
                                <button class="terminal-control-btn" onclick="showCommands()">Commands</button>
                            </div>
                        </div>
                        <div class="terminal-body" style="min-height: 450px;" id="free-practice">
                            <div class="terminal-line">
                                <span class="terminal-comment"># Free practice! Try any commands you've learned</span>
                            </div>
                            <div class="terminal-line">
                                <span class="terminal-comment"># Available: pwd, ls, mkdir, touch, echo, cat, cd, help</span>
                            </div>
                            <div class="terminal-input-line">
                                <span class="terminal-prompt">student@learning:~$</span>
                                <input type="text" class="terminal-input" 
                                       onkeypress="handleCommand(event, 'free-practice', 'free')"
                                       placeholder="Try any command...">
                                <span class="terminal-cursor">_</span>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="best-practice">
                                <h6><i class="bi bi-check-circle text-success me-2"></i>Available Commands</h6>
                                <ul class="mb-0">
                                    <li><code>pwd</code> - show current directory</li>
                                    <li><code>ls</code> - list files and directories</li>
                                    <li><code>mkdir</code> - create directories</li>
                                    <li><code>touch</code> - create files</li>
                                    <li><code>echo</code> - display text</li>
                                    <li><code>cat</code> - read file contents</li>
                                    <li><code>cd</code> - change directory</li>
                                    <li><code>help</code> - show help</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="warning-box">
                                <h6><i class="bi bi-lightbulb text-warning me-2"></i>Try These Examples</h6>
                                <ul class="mb-0">
                                    <li><code>mkdir test-dir</code></li>
                                    <li><code>cd test-dir</code></li>
                                    <li><code>touch hello.txt</code></li>
                                    <li><code>echo "Hello!" > hello.txt</code></li>
                                    <li><code>cat hello.txt</code></li>
                                    <li><code>ls -la</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        // ============================================
        // NEW CIRCULAR THEME TOGGLE SYSTEM
        // ============================================
        (function() {
            'use strict';
            
            const THEME_KEY = 'preferred-theme';
            const DARK_MODE_CLASS = 'dark-mode';
            
            // Theme state
            let isLightTheme = false;
            let selectorVisible = false;
            
            // DOM elements
            const themeToggle = document.getElementById('themeToggle');
            const themeSelector = document.getElementById('themeSelector');
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            const themeOptions = document.querySelectorAll('.theme-option');
            
            // Initialize theme on page load
            function initializeTheme() {
                try {
                    const savedTheme = localStorage.getItem(THEME_KEY);
                    
                    if (savedTheme === 'light') {
                        setLightTheme();
                    } else if (savedTheme === 'dark') {
                        setDarkTheme();
                    } else {
                        // Default to system preference
                        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                            setDarkTheme();
                        } else {
                            setLightTheme();
                        }
                    }
                } catch (e) {
                    console.warn('Theme persistence not available:', e);
                    setDarkTheme(); // Fallback to dark theme
                }
                
                updateActiveOption();
            }
            
            // Set light theme
            function setLightTheme() {
                document.documentElement.classList.remove(DARK_MODE_CLASS);
                document.body.classList.remove(DARK_MODE_CLASS);
                
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
                
                isLightTheme = true;
                
                try {
                    localStorage.setItem(THEME_KEY, 'light');
                } catch (e) {
                    console.warn('Could not save theme preference:', e);
                }
            }
            
            // Set dark theme
            function setDarkTheme() {
                document.documentElement.classList.add(DARK_MODE_CLASS);
                document.body.classList.add(DARK_MODE_CLASS);
                
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
                
                isLightTheme = false;
                
                try {
                    localStorage.setItem(THEME_KEY, 'dark');
                } catch (e) {
                    console.warn('Could not save theme preference:', e);
                }
            }
            
            // Toggle between themes
            function toggleTheme() {
                if (isLightTheme) {
                    setDarkTheme();
                } else {
                    setLightTheme();
                }
                updateActiveOption();
            }
            
            // Update active option styling
            function updateActiveOption() {
                themeOptions.forEach(option => {
                    const theme = option.dataset.theme;
                    if ((theme === 'light' && isLightTheme) || 
                        (theme === 'dark' && !isLightTheme)) {
                        option.classList.add('active');
                    } else {
                        option.classList.remove('active');
                    }
                });
            }
            
            // Show theme selector
            function showSelector() {
                selectorVisible = true;
                themeSelector.classList.add('show');
            }
            
            // Hide theme selector
            function hideSelector() {
                selectorVisible = false;
                themeSelector.classList.remove('show');
            }
            
            // Event Listeners
            themeToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                if (selectorVisible) {
                    hideSelector();
                } else {
                    showSelector();
                }
            });
            
            // Theme option clicks
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const selectedTheme = this.dataset.theme;
                    
                    if (selectedTheme === 'light') {
                        setLightTheme();
                    } else {
                        setDarkTheme();
                    }
                    
                    updateActiveOption();
                    hideSelector();
                });
            });
            
            // Quick toggle on double-click
            themeToggle.addEventListener('dblclick', function(e) {
                e.stopPropagation();
                toggleTheme();
                hideSelector();
            });
            
            // Click outside to close selector
            document.addEventListener('click', function(e) {
                if (selectorVisible && 
                    !themeToggle.contains(e.target) && 
                    !themeSelector.contains(e.target)) {
                    hideSelector();
                }
            });
            
            // Keyboard support
            themeToggle.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    if (selectorVisible) {
                        hideSelector();
                    } else {
                        showSelector();
                    }
                } else if (e.key === 'Escape') {
                    hideSelector();
                }
            });
            
            // Listen for system theme changes
            if (window.matchMedia) {
                const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
                mediaQuery.addEventListener('change', function() {
                    const savedTheme = localStorage.getItem(THEME_KEY);
                    // Only auto-switch if no explicit preference is saved
                    if (!savedTheme) {
                        if (mediaQuery.matches) {
                            setDarkTheme();
                        } else {
                            setLightTheme();
                        }
                        updateActiveOption();
                    }
                });
            }
            
            // Initialize on DOM load
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeTheme);
            } else {
                initializeTheme();
            }
        })();

        // ============================================
        // TERMINAL FUNCTIONALITY
        // ============================================

        // Virtual File System
        let virtualFS = {
            '/home/student': {
                type: 'directory',
                contents: {
                    'documents': { type: 'directory', contents: {} },
                    'downloads': { type: 'directory', contents: {} },
                    'pictures': { type: 'directory', contents: {} },
                    'projects': { type: 'directory', contents: {} }
                }
            }
        };

        let currentPath = '/home/student';
        let challengeProgress = {
            'getting-started-1': false
        };

        // Command handlers
        function handleCommand(event, terminalId, challengeId) {
            if (event.key === 'Enter') {
                const input = event.target;
                const command = input.value.trim();
                const terminalBody = document.getElementById(terminalId);
                
                // Add command to terminal display
                addCommandLine(terminalBody, command);
                
                // Process the command
                const result = processCommand(command, terminalId, challengeId);
                
                if (result.output) {
                    addOutputLine(terminalBody, result.output, result.type || 'output');
                }
                
                // Clear input and create new input line
                input.value = '';
                addNewInputLine(terminalBody, terminalId, challengeId);
                
                // Remove the old input line
                input.closest('.terminal-input-line').remove();
                
                // Scroll to bottom
                terminalBody.scrollTop = terminalBody.scrollHeight;
                
                // Focus new input
                const newInput = terminalBody.querySelector('.terminal-input');
                if (newInput) newInput.focus();
                
                // Update progress if applicable
                if (challengeId !== 'free') {
                    updateProgress(challengeId, command, result.success);
                }
            }
        }

        function handleHeroCommand(event) {
            if (event.key === 'Enter') {
                const input = event.target;
                const command = input.value.trim();
                const terminalBody = document.getElementById('hero-terminal');
                
                // Add command to terminal display
                addCommandLine(terminalBody, command);
                
                // Process the command
                const result = processCommand(command, 'hero-terminal', 'hero');
                
                if (result.output) {
                    addOutputLine(terminalBody, result.output, result.type || 'output');
                }
                
                // Clear input
                input.value = '';
                
                // Add new input line
                addNewInputLine(terminalBody, 'hero-terminal', 'hero');
                
                // Scroll to bottom
                terminalBody.scrollTop = terminalBody.scrollHeight;
                
                // Focus new input
                const newInput = terminalBody.querySelector('.terminal-input');
                if (newInput) newInput.focus();
            }
        }

        function processCommand(command, terminalId, challengeId) {
            const parts = command.split(' ');
            const cmd = parts[0].toLowerCase();
            
            switch (cmd) {
                case 'pwd':
                    return { output: currentPath, success: true };
                    
                case 'ls':
                    return handleLsCommand(parts);
                    
                case 'mkdir':
                    return handleMkdirCommand(parts);
                    
                case 'touch':
                    return handleTouchCommand(parts);
                    
                case 'echo':
                    return handleEchoCommand(parts, command);
                    
                case 'cat':
                    return handleCatCommand(parts);
                    
                case 'cd':
                    return handleCdCommand(parts);
                    
                case 'clear':
                    clearTerminal(terminalId);
                    return { output: '', success: true };
                    
                case 'help':
                    return { 
                        output: 'Available commands: pwd, ls, mkdir, touch, echo, cat, cd, clear, help',
                        success: true 
                    };
                    
                default:
                    if (command.trim() === '') {
                        return { output: '', success: true };
                    }
                    return { 
                        output: `Command not found: ${cmd}. Type 'help' for available commands.`,
                        type: 'error',
                        success: false 
                    };
            }
        }

        function handleLsCommand(parts) {
            const currentDir = getDirectoryAtPath(currentPath);
            if (!currentDir) {
                return { output: 'Directory not found', type: 'error', success: false };
            }
            
            let files = Object.keys(currentDir.contents);
            return { output: files.join('  '), success: true };
        }

        function handleMkdirCommand(parts) {
            if (parts.length < 2) {
                return { output: 'mkdir: missing operand', type: 'error', success: false };
            }
            
            const dirName = parts[1];
            const currentDir = getDirectoryAtPath(currentPath);
            
            if (currentDir.contents[dirName]) {
                return { output: `mkdir: cannot create directory '${dirName}': File exists`, type: 'error', success: false };
            }
            
            currentDir.contents[dirName] = { type: 'directory', contents: {} };
            return { output: '', success: true };
        }

        function handleTouchCommand(parts) {
            if (parts.length < 2) {
                return { output: 'touch: missing operand', type: 'error', success: false };
            }
            
            const fileName = parts[1];
            const currentDir = getDirectoryAtPath(currentPath);
            
            if (!currentDir.contents[fileName]) {
                currentDir.contents[fileName] = { type: 'file', content: '' };
            }
            
            return { output: '', success: true };
        }

        function handleEchoCommand(parts, fullCommand) {
            // Handle echo with redirection
            if (fullCommand.includes(' > ') || fullCommand.includes(' >> ')) {
                const isAppend = fullCommand.includes(' >> ');
                const redirectOperator = isAppend ? ' >> ' : ' > ';
                const [textPart, filePart] = fullCommand.split(redirectOperator);
                
                // Extract text content (remove echo command and quotes)
                let text = textPart.replace(/^echo\s+/, '').trim();
                if ((text.startsWith('"') && text.endsWith('"')) || 
                    (text.startsWith("'") && text.endsWith("'"))) {
                    text = text.slice(1, -1);
                }
                
                const fileName = filePart.trim();
                const currentDir = getDirectoryAtPath(currentPath);
                
                if (isAppend && currentDir.contents[fileName]) {
                    currentDir.contents[fileName].content += '\n' + text;
                } else {
                    currentDir.contents[fileName] = { type: 'file', content: text };
                }
                
                return { output: '', success: true };
            } else {
                // Regular echo command
                let text = parts.slice(1).join(' ');
                if ((text.startsWith('"') && text.endsWith('"')) || 
                    (text.startsWith("'") && text.endsWith("'"))) {
                    text = text.slice(1, -1);
                }
                return { output: text, success: true };
            }
        }

        function handleCatCommand(parts) {
            if (parts.length < 2) {
                return { output: 'cat: missing operand', type: 'error', success: false };
            }
            
            const fileName = parts[1];
            const currentDir = getDirectoryAtPath(currentPath);
            const file = currentDir.contents[fileName];
            
            if (!file) {
                return { output: `cat: ${fileName}: No such file or directory`, type: 'error', success: false };
            }
            
            if (file.type === 'directory') {
                return { output: `cat: ${fileName}: Is a directory`, type: 'error', success: false };
            }
            
            return { output: file.content || '', success: true };
        }

        function handleCdCommand(parts) {
            if (parts.length === 1 || parts[1] === '~') {
                currentPath = '/home/student';
                return { output: '', success: true };
            }
            
            const targetDir = parts[1];
            
            if (targetDir === '..') {
                const pathParts = currentPath.split('/').filter(p => p);
                if (pathParts.length > 2) { // Don't go above /home/student
                    pathParts.pop();
                    currentPath = '/' + pathParts.join('/');
                }
                return { output: '', success: true };
            }
            
            const currentDir = getDirectoryAtPath(currentPath);
            if (currentDir.contents[targetDir] && currentDir.contents[targetDir].type === 'directory') {
                currentPath = currentPath + (currentPath.endsWith('/') ? '' : '/') + targetDir;
                return { output: '', success: true };
            } else {
                return { output: `cd: ${targetDir}: No such file or directory`, type: 'error', success: false };
            }
        }

        function getDirectoryAtPath(path) {
            const parts = path.split('/').filter(p => p);
            let current = virtualFS['/home/student'];
            
            for (let i = 2; i < parts.length; i++) { // Skip 'home' and 'student'
                if (current.contents[parts[i]]) {
                    current = current.contents[parts[i]];
                } else {
                    return null;
                }
            }
            
            return current;
        }

        function addCommandLine(terminalBody, command) {
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = `
                <span class="terminal-prompt">student@learning:~$</span>
                <span class="terminal-command">${command}</span>
            `;
            terminalBody.appendChild(line);
        }

        function addOutputLine(terminalBody, output, type = 'output') {
            if (output) {
                const line = document.createElement('div');
                line.className = 'terminal-line';
                const className = type === 'error' ? 'terminal-error' : 
                                type === 'success' ? 'terminal-success' : 'terminal-output';
                line.innerHTML = `<span class="${className}">${output}</span>`;
                terminalBody.appendChild(line);
            }
        }

        function addNewInputLine(terminalBody, terminalId, challengeId) {
            const inputLine = document.createElement('div');
            inputLine.className = 'terminal-input-line';
            inputLine.innerHTML = `
                <span class="terminal-prompt">student@learning:~$</span>
                <input type="text" class="terminal-input" 
                       onkeypress="handleCommand(event, '${terminalId}', '${challengeId}')"
                       placeholder="Type your command...">
                <span class="terminal-cursor">_</span>
            `;
            terminalBody.appendChild(inputLine);
        }

        function updateProgress(challengeId, command, success) {
            if (!success) return;
            
            switch (challengeId) {
                case 'getting-started-1':
                    if (command.includes('echo') && command.includes('Hello World')) {
                        challengeProgress[challengeId] = true;
                        updateChallengeStatus(challengeId, 'completed', 'Challenge completed! ✅');
                        showToast('Great job! You used the echo command successfully!', 'success');
                    }
                    break;
            }
        }

        function updateChallengeStatus(challengeId, status, text) {
            const statusElement = document.getElementById(`challenge-${challengeId}`);
            if (statusElement) {
                const indicator = statusElement.querySelector('.status-indicator');
                indicator.className = `status-indicator ${status}`;
                statusElement.querySelector('span').textContent = text;
            }
        }

        // UI Helper Functions
        function switchExampleTab(button, tabName) {
            const container = button.closest('.example-container');
            const tabs = container.querySelectorAll('.example-tab');
            const panes = container.querySelectorAll('.example-pane');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            panes.forEach(pane => pane.classList.remove('active'));
            
            button.classList.add('active');
            container.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // Focus on input if switching to practice tab
            if (tabName === 'practice') {
                setTimeout(() => {
                    const input = container.querySelector('.terminal-input');
                    if (input) input.focus();
                }, 100);
            }
        }

        function clearTerminal(terminalId) {
            const terminal = document.getElementById(terminalId);
            const isHero = terminalId === 'hero-terminal';
            
            if (isHero) {
                terminal.innerHTML = `
                    <div class="terminal-line">
                        <span class="terminal-comment"># Try typing: pwd</span>
                    </div>
                    <div class="terminal-input-line">
                        <span class="terminal-prompt">student@learning:~$</span>
                        <input type="text" class="terminal-input" id="hero-input" 
                               placeholder="Type a command..." onkeypress="handleHeroCommand(event)">
                        <span class="terminal-cursor">_</span>
                    </div>
                `;
            } else {
                // Find the challenge ID from the existing input
                const existingInput = terminal.querySelector('.terminal-input');
                const onkeypress = existingInput ? existingInput.getAttribute('onkeypress') : '';
                const challengeId = onkeypress.match(/'([^']*)'.*'([^']*)'/)?.[2] || 'free';
                
                terminal.innerHTML = `
                    <div class="terminal-line">
                        <span class="terminal-comment"># Terminal cleared</span>
                    </div>
                    <div class="terminal-input-line">
                        <span class="terminal-prompt">student@learning:~$</span>
                        <input type="text" class="terminal-input" 
                               onkeypress="handleCommand(event, '${terminalId}', '${challengeId}')"
                               placeholder="Type your command...">
                        <span class="terminal-cursor">_</span>
                    </div>
                `;
            }
            
            // Focus the new input
            const newInput = terminal.querySelector('.terminal-input');
            if (newInput) newInput.focus();
        }

        function clearHeroTerminal() {
            clearTerminal('hero-terminal');
        }

        function showHint(hintId) {
            const hint = document.getElementById(hintId);
            if (hint) {
                hint.classList.toggle('show');
            }
        }

        function showCommands() {
            showToast('Available commands: pwd, ls, mkdir, touch, echo, cat, cd, clear, help', 'info');
        }

        function showAbout() {
            showToast('Interactive Terminal Learning Guide - Learn by doing!', 'info');
        }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast-custom';
            
            const iconMap = {
                success: 'bi-check-circle-fill text-success',
                error: 'bi-x-circle-fill text-danger',
                warning: 'bi-exclamation-triangle-fill text-warning',
                info: 'bi-info-circle-fill text-info'
            };
            
            toast.innerHTML = `
                <div class="d-flex align-items-center">
                    <i class="bi ${iconMap[type]} me-2"></i>
                    <span>${message}</span>
                    <button class="btn-close ms-auto" onclick="this.parentElement.parentElement.remove()"></button>
                </div>
            `;
            
            container.appendChild(toast);
            
            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Focus the hero terminal input
            const heroInput = document.getElementById('hero-input');
            if (heroInput) heroInput.focus();
            
            // Set up navigation
            updateActiveNavigation();
            
            // Welcome message
            setTimeout(() => {
                showToast('Welcome to Interactive Terminal Learning! Click any terminal to start typing.', 'info');
            }, 1000);
        });

        function updateActiveNavigation() {
            const navLinks = document.querySelectorAll('.guide-nav .nav-link');
            const sections = document.querySelectorAll('.content-section');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 150;
                    if (scrollY >= sectionTop) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            });
        }
    </script>
</body>
</html>